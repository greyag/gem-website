(this["webpackJsonpgem-workshop"]=this["webpackJsonpgem-workshop"]||[]).push([[0],{38:function(e,t,n){e.exports=n(63)},43:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),l=n.n(o);n(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(5),i=n(4),c=r.a.createContext(null),u=function(e){return function(t){return r.a.createElement(c.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},m=c,h=n(16),p=n.n(h),d=n(24),f=n(10),g=n(6),b=n(17),E=n.n(b),v=(n(48),n(50),n(54),n(64),{apiKey:"AIzaSyAWceNQIl_fbEN_22LE4VksEPJk9BEGh7c",authDomain:"gemworkshop.firebaseapp.com",databaseURL:"https://gemworkshop.firebaseio.com",projectId:"gemworkshop",storageBucket:"gemworkshop.appspot.com",messagingSenderId:"583978950039",appId:"1:583978950039:web:b9077c39c84122c85e78d2",measurementId:"G-HR8WL3C80K"}),k=function e(){var t=this;Object(g.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged((function(a){a?t.user(a.uid).once("value").then((function(t){var n=t.val();n.roles||(n.roles={admin:!1,host:!1}),a=Object(f.a)({uid:a.uid,email:a.email},n),e(a)})):n()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.postTalk=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(a){var r=t.store.child("talks").child(e).child(a.name);r.put(a).then((function(e){})),n.file=r.location.path_}t.fs.collection("focusGroups").doc(e).collection("blocks").doc("unscheduled").collection("talks").add(n).then((function(e){})).catch((function(e){console.error("Error adding talk:",e)}))},this.deleteTalk=function(e){return e.remove()},this.getBlockTalks=function(e,n){var a={};return n.forEach(function(){var n=Object(d.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a[r]=[],n.prev=1,n.next=4,t.fs.collection("focusGroups/".concat(e,"/blocks/").concat(r,"/talks")).get();case 4:n.sent.forEach((function(e){a[r].push(e.data())})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()),a},this.getAllTalksForGroup=function(){var e=Object(d.a)(p.a.mark((function e(n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBlocksForGroup(n);case 2:return a=e.sent,r=a.map(function(){var e=Object(d.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBlockTalks(n,a);case 2:return r=e.sent,e.abrupt("return",{block:a,talks:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E.a.initializeApp(v),this.auth=E.a.auth(),this.db=E.a.database(),this.fs=E.a.firestore(),this.store=E.a.storage().ref()},O=u((function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")})),y=r.a.createContext(null),j=n(7),w=n(9),C=n(8),S=function(e){var t=function(t){Object(w.a)(a,t);var n=Object(C.a)(a);function a(e){var t;return Object(g.a)(this,a),(t=n.call(this,e)).state={authUser:null},t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){e.setState({authUser:t})}),(function(){e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(y.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return u(t)},A=n(11),I=function(e){return function(t){var n=function(n){Object(w.a)(o,n);var a=Object(C.a)(o);function o(){return Object(g.a)(this,o),a.apply(this,arguments)}return Object(j.a)(o,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.onAuthUserListener((function(n){e(n)||t.props.history.push("/signin")}),(function(){return t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var n=this;return r.a.createElement(y.Consumer,null,(function(a){return e(a)?r.a.createElement(t,n.props):null}))}}]),o}(r.a.Component);return Object(A.a)(i.f,u)(n)}},M=function(e){var t=e.authUser;return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/schedule"},"Schedule")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/focusgroups"},"Focus Groups")),!!t.roles.ADMIN&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/admin"},"Admin ")),r.a.createElement("li",null,r.a.createElement(O,null)))},T=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/signin"},"Sign In")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/signup"},"Sign Up")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/schedule"},"Schedule")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/focusgroups"},"Focus Groups")))},N=function(){return r.a.createElement("div",null,r.a.createElement(y.Consumer,null,(function(e){return e?r.a.createElement(M,{authUser:e}):r.a.createElement(T,null)})))},U=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing"))},x=n(14),D={host:"vgemhost@gmail.com",attendee:"vgemattendee@gmail.com",admin:"gretagadbois@gmail.com"},H={username:"",password:"",error:null},P=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.username,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(D[n.toLowerCase()],r).then((function(){a.setState(Object(f.a)({},H)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state=Object(f.a)({},H),a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.error,o=""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Username"}),r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),a&&r.a.createElement("p",null,a.message))}}]),n}(a.Component),L=Object(A.a)(i.f,u)(P),B=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(L,null))},G={username:"",email:"",passwordOne:"",passwordTwo:"",isHost:!1,isAdmin:!1,error:null},W=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,o=t.passwordOne,l={};a.state.isAdmin&&(l.ADMIN="ADMIN"),a.state.isHost&&(l.HOST="HOST"),a.props.firebase.doCreateUserWithEmailAndPassword(r,o).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r,roles:l})})).then((function(){a.setState(Object(f.a)({},G)),a.props.history.push("/home")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.onChangeCheckbox=function(e){a.setState(Object(x.a)({},e.target.name,e.target.checked))},a.state=Object(f.a)({},G),a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.passwordOne,o=e.passwordTwo,l=e.isAdmin,s=e.isHost,i=e.error,c=a!==o||""===a||""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:n,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:o,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("label",null,"Admin:",r.a.createElement("input",{name:"isAdmin",type:"checkbox",checked:l,onChange:this.onChangeCheckbox})),r.a.createElement("label",null,"Host:",r.a.createElement("input",{name:"isHost",type:"checkbox",checked:s,onChange:this.onChangeCheckbox})),r.a.createElement("button",{disabled:c,type:"submit"},"Sign Up"),i&&r.a.createElement("p",null,i.message))}}]),n}(a.Component),F=Object(A.a)(i.f,u)(W),R=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(F,null))},z=I((function(e){return!!e}))((function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement("p",null,"The Home Page is accessible by every signed in user."))})),K=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={loading:!1,users:[]},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",(function(t){var n=t.val(),a=Object.keys(n).map((function(e){return Object(f.a)(Object(f.a)({},n[e]),{},{uid:e})}));e.setState({users:a,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"The Admin Page is accessible by every signed in admin user."),n&&r.a.createElement("div",null,"Loading..."),r.a.createElement(J,{users:t}))}}]),n}(a.Component),J=function(e){var t=e.users;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))})))},V=Object(A.a)(I((function(e){return e&&!!e.roles.ADMIN})),u)(K),_=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={loading:!1,days:{}},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,r.a.createElement("h1",null,"Schedule"),r.a.createElement("p",null,"Tschser."),e&&r.a.createElement("div",null,"Loading..."))}}]),n}(a.Component),Y=Object(A.a)(u)(_),Z={IEMIT:{longName:"3D Ionospheric Electrodynamics and Its Impact on MIT coupling",hosts:"Hyunju Connor, Haje Korth, Gang Lu, Bin Zhang",blocks:["tuesAft","tuesEve","wedEve"]},M3_I2:{longName:"Merged Modeling & Measurement of Injection Ionospheric Plasma into the Magnetosphre and its Effects",hosts:"Vince Eccles, Barbara Giles, Shasha Zu",blocks:["wedAft","wedEve"]},IHMIC:{longName:"Interhemispheric Approaches to Understand M-I Coupling",hosts:"Hyomin Kim, Robert Lysak, Tomoko Matsuo",blocks:["thursAft","wedEve"]},RX:{longName:"Magnetic Reconnection in the Age of the Heliophysics System Observatory",hosts:"Rick Wilder, Shan Wang, Michael Shay, Anton Artemyev",blocks:["tuesAft","tuesEve"]},UMEA:{longName:"ULF Wave Modeling, Effects, and Applications",hosts:"Michael Hartinger, Kazue Takahashi, Alexander Drozdov, Maria Usanova, Brian Kress",blocks:["wedAft","wedEve"]},BSH:{longName:"Particle Heating and Thermalization in Collisionless Shocks in the MMS Era",hosts:"Lynn Wilson, Li-Jen Chen, Kathrine Goodrich, Ivan Vasko",blocks:["tuesAft","tuesEve"]},DAYS:{longName:"Dayside Kinetic Processes in Global Solar Wind- Magnetosphere Interaction",hosts:"Heli Hietala, Xochitl Blanco-Cano, Gabor Toth, Andrew Dimmock, Ying Zou",blocks:["thursAft","ThursEve"]},RB:{longName:"System Understanding of Radiation Belt Particle Dynamics through Multi-spacecraft and Ground-based Observations and Modeling",hosts:"Hong Zhao, Lauren Blum, Sasha Ukhorskiy, Xiangrong Fu",blocks:["tuesAft","tuesEve"]},CP:{longName:"The Impact of the Cold Plasma in the Magnetospheric Physics",hosts:"Gian Luca Delzanno, Natalia Buzulukosva, Barbara Giles, Roger Varney, Joe Borovsky",blocks:["thursAft","thursEve"]},IMM:{longName:"Self-Consistent Inner Magnetospheric Modelling",hosts:"Cristian Ferradas, Chao Yue, Jacob Bortnik, Qianli Ma, Sam Bingham",blocks:["wedAft","wedEve","thursEve"]},DIP:{longName:"Magnetotail Dipolarization and Its Effects on the Inner Magnetosphere",hosts:"Christine Gabrielse, Matina Gkioulidou, Slava Merkin, Drew Turner, David Malaspina",blocks:["wedAft","thursAft"]},MMV:{longName:"Modeling methods and validation",hosts:"Mike Liemohn, Lutz Rastaetter, Alexa Halford, Josh Rigler",blocks:["wedAft"]},Machine_Learning:{longName:"Machine Learning as it pertains in the Geospace Environment",hosts:"Matt Argal",blocks:["thursEve"]}},X=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Focus Groups"),Object.keys(Z).map((function(e){return r.a.createElement("div",null,r.a.createElement(s.b,{to:"".concat("/focusgroups","/").concat(e)},e))})))},Q=n(31),$=n(23),q={groupId:"",name:"",title:"",error:null,selectedFile:null,postTalk:function(){}},ee=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){console.log("submit!");var t=a.state,n=t.name,r=t.title,o=t.groupId,l=t.selectedFile;a.state.postTalk(o,{name:n,title:r},l),a.props.history.push("/focusgroups/".concat(a.state.groupId)),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.onFileChange=function(e){a.setState({selectedFile:e.target.files[0]})},a.state=Object(f.a)({},q),a.onSubmit=a.onSubmit.bind(Object($.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setState({groupId:this.props.match.params.groupId,postTalk:this.props.firebase.postTalk})}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.title,a=e.groupId,o=e.error,l=""===n||""===t;return console.log("state",this.state),r.a.createElement("div",null,r.a.createElement("h1",null,"Add a new ",a," talk"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"name",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"title",value:n,onChange:this.onChange,type:"text",placeholder:"title"}),r.a.createElement("input",{name:"selectedFile",onChange:this.onFileChange,type:"file",ref:this.state.fileInput,placeholder:"Your slides"}),r.a.createElement("button",{disabled:l,type:"submit"},"Submit talk"),o&&r.a.createElement("p",null,o.message)))}}]),n}(a.Component),te=function(e){var t=e.groupId;return r.a.createElement("p",null,r.a.createElement(s.b,{to:{pathname:"/focusgroups/".concat(t,"/add")}},"Add a talk!"))},ne=Object(A.a)(i.f,u,I((function(e){return!!e})))(ee),ae={name:"",longName:"",hosts:"",blocks:[],blocksAndTalks:{},loading:!1},re=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state=Object(f.a)({},ae),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.groupId;this.setState({loading:!0,name:e,longName:Z[e].longName,hosts:Z[e].hosts,blocks:[].concat(Object(Q.a)(Z[e].blocks),["unscheduled"]),talks:this.props.firebase.getBlockTalks(e,[].concat(Object(Q.a)(Z[e].blocks),["unscheduled"]))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.name),r.a.createElement("h3",null,this.state.longName),r.a.createElement("p",null,"Hosted by ",this.state.hosts),oe(this.state.talks),r.a.createElement(te,{groupId:this.state.name}))}}]),n}(a.Component),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return r.a.createElement("div",null,r.a.createElement("h2",null,"Schedule of Talks"),t.map((function(t){return r.a.createElement("div",null,le(t,e[t]))})))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return console.log(e,t),r.a.createElement("div",null,r.a.createElement("h3",null,e),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Presenter")),t.length>0&&t.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.name))})),!t.length&&r.a.createElement("p",null,"No talks here!"))))},se=Object(A.a)(u)(re),ie=S((function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:U}),r.a.createElement(i.a,{path:"/signin",component:B}),r.a.createElement(i.a,{path:"/signup",component:R}),r.a.createElement(i.a,{path:"/schedule",component:Y}),r.a.createElement(i.a,{path:"/home",component:z}),r.a.createElement(i.a,{path:"/admin",component:V}),r.a.createElement(i.a,{exact:!0,path:"/focusgroups",component:X}),r.a.createElement(i.a,{exact:!0,path:"/focusgroups/:groupId",component:se}),r.a.createElement(i.a,{exact:!0,path:"/focusgroups/:groupId/add",component:ne}))))}));l.a.render(r.a.createElement(m.Provider,{value:new k},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0dcdfa5d.chunk.js.map